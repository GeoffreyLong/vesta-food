<div id="titleDiv">
  <div id="titleRow" layout="row" layout-align="space-between center">
    <!-- TODO will need to deal with long titles here -->
    <img src="{{store.profilePhoto}}" alt="Profile Picture"/>
    <span id="storeTitle" class="md-display-3"> {{store.storeTitle}} </span>
    <div id="titleStars"> 
      <md-icon class="star material-icons" ng-repeat="star in $ctrl.getNumber(store.overallRating) track by $index"> star </md-icon>
    </div>
  </div>
  <div class="underline" flex/>
</div>

<slick settings="slickConfig">
  <div ng-repeat="food in store.foods">
    <!--  
          TODO consider putting the food image as a background image to the card 
          this might facilitate sizing and text placement
    -->
    <md-card>
      <div class="foodImageInfo" layout="row" layout-align="space-between center">
        <span class="foodPrice"> ${{food.price}} </span>
        <span class="foodRating" align="right"> 
          <md-icon class="star material-icons" ng-repeat="star in $ctrl.getNumber(food.overallRating) track by $index"> star </md-icon>
        </span>
      </div>
      <img ng-src="{{food.photo}}" class="md-card-image" alt="Store Image">      
      

      <md-card-actions layout="row" layout-align="center center">
        <md-button ng-click="">Add to Cart</md-button>
      </md-card-actions>
    </md-card>
  </div>
</slick>

<!-- Descriptions and chef info -->
<div layout="row" layout-xs="column" layout-sm="column">
  <div flex>
    {{store.description}}
  </div>
  <div flex style="background-color:#123456">
    This is where the map will go
    TODO integrate with google maps
  </div>
</div>

<!-- 
      TODO for a later version 
        we can add the dishes they had too
-->
<!-- Review Stuff -->
<div id="storeReviews">
  <div ng-repeat="review in storeReviews">
    <div class="altCard">
      <div class="profilePhotoDiv">
        <!-- 
              NOTE should probably get a stock image for no-photo people 
              if we even allow that to happen
        -->
        <img ng-src="{{review.buyer.photo}}" class="profilePhoto md-card-image" alt="Profile Image" />      
      </div>
      <div class="reviewContentContainer">
        <div class="reviewHeader" layout="row" layout-align="space-between end">
          <div class='md-title'> {{review.buyer.displayName}} </div>
          <!-- NOTE not sure if I like this not lining up with the other stars -->
          <div class="reviewStars"> 
            <md-icon class="star material-icons" ng-repeat="star in $ctrl.getNumber(review.overall) track by $index"> star </md-icon>
          </div>
          <div> {{review.date}} </div>
        </div>
        <div ng-if="review.comment" class="reviewComment">
          {{review.comment}}
        </div>
    </div>
    </div>
  </div>
</div>
