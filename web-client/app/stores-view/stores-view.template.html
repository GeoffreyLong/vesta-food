<!-- 
      NOTE perhaps should put a search location thing here
      This can be doubly useful if we prompt when no stores are found
-->

<md-content id="storesContainer" class="md-padding" 
            layout="column" layout-align="space-between start" layout-gt-sm="row" 
            layout-align-sm="center center" layout-align-xs="center center">
  <div flex layout="column" ng-repeat="rows in chunkedData">
    <md-card ng-cloak ng-repeat="store in rows">
      <slick class="slider" dots=true arrows=true infinite=true speed=300 slides-to-show=1 touch-move=false slides-to-scroll=1 adaptive-height=true>
        <!-- 
              TODO should probably make the food photo clickable
              This would lead to the food #'ed in the store page 
              Maybe a button within will bring you to the food in the page? 
        -->
        <div ng-repeat="food in store.foods">
          <div class="foodImageInfo" layout="row" layout-align="space-between center">
            <span class="foodPrice"> {{food.name}} </span>
            <span class="foodRating foodPrice" align="right"> 
              ${{food.price}}
            </span>
          </div>
          <img ng-src="{{food.photo}}" class="md-card-image" alt="Store Image">
        </div>
      </slick>
      <md-card-content>
        <div class="slickPadding" ng-if="store.foods.length <= 1"> </div>
        <div layout="row" layout-align="start center">
          <div>
            <img class="avatar" ng-src="{{store.profilePhoto}}"/>
          </div>
          <div>
            <span class="headlineContent" ng-click="$ctrl.goToStore(store, -1)">{{store.storeTitle}}</span>
            <br>
            <span ng-if="store.date" class="subContent"> 
              Available:
              {{store.date | date:'MM/dd/yyyy'}} 
              @ {{store.startTime | date:'h:mma'}} 
              - {{store.endTime | date:'h:mma'}}
            </span>
          </div>
        </div>
      </md-card-content>
    </md-card>
  </div>
</md-content>
